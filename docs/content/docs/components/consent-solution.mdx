---
title: Consent Solution
date: 2024-12-20
description: A customizable cookie consent modal for web applications
author: burnedchris
published: true
---

<ComponentPreview name="consent-solution-demo" />

## Features
- üéØ All-in-one consent management - just listen to the consent hooks for your business logic
- üåç Out-of-the-box support for global privacy regulations (GDPR, CCPA, LGPD, US State Privacy)
- ‚ö° Intelligent geolocation-based compliance handling
- üîí Flexible integration options:
  - Use our complete consent management system
  - Or bring your own consent logic with our raw components
- üé® Fully customizable:
  - Built with Tailwind CSS and shadcn/ui
  - Themeable to match your brand
  - Responsive by default
- üìù Comprehensive tooling:
  - Automated consent persistence
  - Server and client components


## Legal Background

Before implementing cookie consent, it's important to understand the key legal requirements:

### GDPR Requirements
- Explicit, granular consent must be obtained before processing any non-essential cookies
- Users must be able to withdraw consent as easily as they gave it
- Consent must be freely given, specific, informed, and unambiguous
- Pre-ticked boxes or implicit consent are not valid

### CCPA/CPRA Requirements
- Users must be able to opt-out of the sale or sharing of their personal information
- A "Do Not Sell My Personal Information" link must be prominently displayed
- Businesses must honor Global Privacy Control (GPC) signals
- Users must be informed about the categories of personal information collected

### LGPD Requirements
- Explicit consent must be obtained for data processing activities
- Users must be informed about the purpose of data collection
- Consent must be specific to each processing purpose
- Users must have easy access to their privacy rights
## Installation

There are two ways to install the component:

<Accordions>
<Accordion title="Using Shadcn CLI" id="shadcn">
 
<Tabs  groupId="shadcn-cli" items={['npm', 'pnpm']}>
  <Tab value="npm">
  ```bash 
  npx shadcn@latest add "https://koroflow.com/r/consent-solution"
  ```
  </Tab>
  <Tab value="pnpm">
  ```bash 
  pnpx shadcn@latest add "https://koroflow.com/r/consent-solution"
  ```
  </Tab>
</Tabs>


</Accordion>
<Accordion title="Manually" id="manually">
 <Steps>
<Step>

### Install dependencies

<Tabs  groupId="manual-install" items={['npm', 'pnpm']}>
  <Tab value="npm">
  ```bash 
  npm install @koroflow/core-react @koroflow/dev-tools
  ```
  </Tab>
  <Tab value="pnpm">
  ```bash 
  pnpm install @koroflow/core-react @koroflow/dev-tools
  ```
  </Tab>
  <Tab value="yarn">
  ```bash 
  yarn add @koroflow/core-react @koroflow/dev-tools
  ```
  </Tab>
  <Tab value="bun">
  ```bash 
  bun add @koroflow/core-react @koroflow/dev-tools
  ```
  </Tab>
</Tabs>

</Step>
<Step>
### Add the components

Copy and paste the following components into your project:

<ComponentSource name="consent-solution" />

</Step>
<Step>
### Update the imports

Update the import paths to match your project structure.

</Step>
</Steps>
</Accordion>
</Accordions>

## Usage

### Basic Usage

The simplest implementation with only necessary cookies:

<ComponentPreview name="consent-solution-minimal-demo" defaultTab="Code" />

### Event Callbacks

Track user interactions with the consent system:

<ComponentPreview name="consent-solution-callback-demo" defaultTab="Code" />

## API Reference

### ConsentManagerProvider

<TypeTable
  type={{
    initialGdprTypes: {
      description: "Initial types of GDPR consents to be managed.",
      type: "allConsentNames[]",
      default: '["necessary"]',
    },
    initialComplianceSettings: {
      description: "Initial compliance settings for different regions.",
      type: "Record<ComplianceRegion, ComplianceSettings>",
    },
    initialPrivacyPolicyUrl: {
      description: "URL to the privacy policy page.",
      type: "string",
    },
    initialCookiePolicyUrl: {
      description: "URL to the cookie policy page.",
      type: "string",
    },
  }}
/>

### CookiePopup

<TypeTable
  type={{
    bannerDescription: {
      description: "Description text for the cookie banner.",
      type: "string",
    },
    bannerTitle: {
      description: "Title text for the cookie banner.",
      type: "string",
    },
    className: {
      description: "Additional CSS classes.",
      type: "string",
    },
    horizontalPosition: {
      description: "Horizontal positioning of the popup.",
      type: "'left' | 'center' | 'right'",
      default: "center",
    },
    verticalPosition: {
      description: "Vertical positioning of the popup.",
      type: "'top' | 'center' | 'bottom'",
      default: "bottom",
    },
    enableScrollLock: {
      description: "Whether to prevent scrolling when popup is open.",
      type: "boolean",
      default: "false",
    },
  }}
/>

### PrivacyConsentDialog

<TypeTable
  type={{
    children: {
      description: "Trigger element to open the dialog.",
      type: "React.ReactNode",
    },
    className: {
      description: "Additional CSS classes for the dialog.",
      type: "string",
    },
  }}
/>

### ConsentCustomizationWidget

<TypeTable
  type={{
    onSave: {
      description: "Callback function triggered when preferences are saved.",
      type: "() => void",
    },
    className: {
      description: "Additional CSS classes for the widget.",
      type: "string",
    },
  }}
/>

### useConsentManager

A hook for accessing the privacy consent context.

<TypeTable
  type={{
    consents: {
      description: "Current state of user consents.",
      type: "ConsentState",
    },
    setConsent: {
      description: "Function to update a single consent value.",
      type: "(name: allConsentNames, value: boolean) => void",
    },
    saveConsents: {
      description: "Function to save current consent values.",
      type: "() => void",
    },
    resetConsents: {
      description: "Function to reset consents to default values.",
      type: "() => void",
    },
    setCallback: {
      description: "Function to set callbacks for consent events.",
      type: "(name: keyof Callbacks, callback: CallbackFunction) => void",
    },
    setShowPopup: {
      description: "Function to programmatically show/hide the popup.",
      type: "(show: boolean) => void",
    },
    setIsPrivacyDialogOpen: {
      description: "Function to programmatically control the privacy dialog.",
      type: "(open: boolean) => void",
    },
  }}
/>

## Accessibility

The cookie consent components are built with accessibility in mind:

- Full keyboard navigation support
- ARIA labels and roles
- Focus management
- Screen reader announcements for consent changes
- High contrast mode support

## Best Practices

1. Always include necessary cookies as required
2. Provide clear descriptions for each consent type
3. Include links to privacy and cookie policies
4. Implement proper consent persistence
5. Handle consent changes appropriately
6. Consider regional privacy regulations
7. Use appropriate callbacks to track user interactions
8. Provide multiple ways to access privacy settings
9. Ensure consistent styling across components

## Resources

- [GDPR Compliance](https://gdpr.eu/cookies/)
- [CCPA Requirements](https://oag.ca.gov/privacy/ccpa)
- [Cookie Law Info](https://www.cookielaw.org/the-cookie-law/)
- [US State Privacy Laws](https://iapp.org/resources/article/us-state-privacy-legislation-tracker/)
