{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "consent-solution-callback-demo",
  "type": "registry:example",
  "author": "Koroflow (https://koroflow.com/components",
  "dependencies": [
    "@koroflow/core-react"
  ],
  "registryDependencies": [
    "consent-solution"
  ],
  "files": [
    {
      "path": "examples/consent-solution-callback-demo.tsx",
      "content": "\"use client\";\n\nimport CookieBanner from \"@/registry/default/components/consent/cookie-banner\";\nimport {\n  ConsentManagerProvider,\n  useConsentManager,\n} from \"@koroflow/core-react\";\nimport { Cookie, Lock, RefreshCw } from \"lucide-react\";\nimport { useCallback, useEffect } from \"react\";\nimport { Button } from \"../components/button\";\nimport ConsentCustomizationModal from \"../components/consent/consent-customization-modal\";\n\nexport default function PrivacyPopupMinimalDemo() {\n  return (\n    <ConsentManagerProvider\n      initialGdprTypes={[\n        \"necessary\",\n        \"marketing\",\n        \"functionality\",\n        \"measurement\",\n      ]}\n      // This namespace is used specifically for demonstration purposes,\n      // allowing multiple instances of the consent manager to coexist on the same page.\n      // It helps in isolating consent states for different demos or components.\n      namespace=\"CallbackDemo\"\n    >\n      <DemoWidget />\n      <CookieBanner />\n    </ConsentManagerProvider>\n  );\n}\n\nexport function DemoWidget() {\n  const { clearAllData, setShowPopup, setCallback } = useConsentManager();\n\n  const handleResetConsent = useCallback(() => {\n    clearAllData();\n  }, [clearAllData]);\n\n  const handleOpenCookiePopup = useCallback(() => {\n    setShowPopup(true);\n  }, [setShowPopup]);\n\n  useEffect(() => {\n    setCallback(\"onBannerShown\", () => {\n      console.log(\"Banner displayed\");\n    });\n\n    setCallback(\"onConsentGiven\", () => {\n      console.log(\"User gave consent\");\n    });\n\n    setCallback(\"onConsentRejected\", () => {\n      console.log(\"User rejected consent\");\n    });\n\n    setCallback(\"onBannerClosed\", () => {\n      console.log(\"Banner closed\");\n    });\n  }, [setCallback]);\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <Button onClick={handleOpenCookiePopup}>\n        <Cookie className=\"h-4 w-4 mr-2\" />\n        Open Cookie Banner\n      </Button>\n      <ConsentCustomizationModal>\n        <Button><Lock className=\"h-4 w-4 mr-2\" />Open Consent Customization </Button>\n      </ConsentCustomizationModal>\n      <Button onClick={handleResetConsent}>\n        <RefreshCw className=\"h-4 w-4 mr-2\" />\n        Reset Local Storage Consent\n      </Button>\n    </div>\n  );\n}\n",
      "type": "registry:example",
      "target": ""
    }
  ]
}