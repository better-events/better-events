{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "cookie-consent-modal-demo-custom-components",
  "type": "registry:example",
  "author": "Better Events (https://better-events.dev/components",
  "registryDependencies": [
    "cookie-consent-modal",
    "cookie-popup"
  ],
  "files": [
    {
      "path": "example/cookie-consent-modal-demo-custom-components.tsx",
      "content": "import { type ReactNode, useState, useCallback } from \"react\";\nimport { Button } from \"@/registry/default/components/button\";\nimport {\n  CookieConsentModal,\n  CookieConsentTrigger,\n  CookieConsentAccept,\n  CookieConsentDecline,\n} from \"@/registry/default/components/cookie-consent-modal\";\nimport type {\n  allConsentNames,\n  consentType,\n} from \"@/registry/default/lib/gdpr-consent-types\";\nimport {\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n} from \"@/components/ui/form\";\nimport { Switch } from \"@/components/ui/switch\";\nimport type { Control } from \"react-hook-form\";\n\ntype DemoProviderProps = {\n  children?: ReactNode;\n  requiredGdprPurposes?: allConsentNames[];\n};\n\n// Demo analytics hook that tracks consent state\nconst useDemoAnalytics = () => {\n  const [hasConsent, setHasConsent] = useState(false);\n  return {\n    isLoaded: true,\n    state: {\n      consent: {\n        dateConsented: hasConsent ? new Date() : undefined,\n      },\n    },\n    consent: (params: {\n      gdprPurposes?: Record<allConsentNames, boolean>;\n      type: \"all\" | \"minimum\" | \"custom\";\n    }) => {\n      console.log(\"Consent updated:\", params);\n      setHasConsent(true);\n      localStorage.setItem(\"cookieConsent\", JSON.stringify(params));\n    },\n  };\n};\n\n// Custom consent item renderer\nconst CustomConsentItem = ({\n  cookie,\n  control,\n}: {\n  cookie: consentType;\n  control: Control<Record<allConsentNames, boolean>>;\n}) => (\n  <FormField\n    control={control}\n    name={cookie.name}\n    render={({ field }) => (\n      <FormItem className=\"flex flex-row items-center justify-between rounded-lg border p-4 shadow-sm\">\n        <div className=\"space-y-0.5\">\n          <FormLabel className=\"text-base\">{cookie.name}</FormLabel>\n          <FormDescription>{cookie.description}</FormDescription>\n        </div>\n        <FormControl>\n          <Switch\n            checked={field.value}\n            onCheckedChange={field.onChange}\n            disabled={cookie.disabled}\n            aria-readonly={cookie.disabled}\n          />\n        </FormControl>\n      </FormItem>\n    )}\n  />\n);\n\nexport const CookieConsentDemoProvider = ({\n  requiredGdprPurposes = [\"necessary\"],\n}: DemoProviderProps) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const analytics = useDemoAnalytics();\n\n  const handleClose = useCallback(() => {\n    setIsOpen(false);\n  }, []);\n\n  const handleOpenSettings = useCallback(() => {\n    setIsOpen(true);\n  }, []);\n\n  return (\n    <>\n      <div className=\"z-10 flex min-h-64 items-center justify-center\">\n        <Button onClick={handleOpenSettings}>Show Cookie Consent Banner</Button>\n      </div>\n      {isOpen && (\n        <CookieConsentModal\n          requiredGdprPurposes={requiredGdprPurposes}\n          useAnalytics={() => analytics}\n          renderConsentItem={CustomConsentItem}\n          customSections={\n            <div className=\"mt-4 p-4 bg-muted rounded-lg\">\n              <h3 className=\"text-lg font-semibold\">Privacy Policy</h3>\n              <p className=\"mt-2\">\n                Please read our privacy policy for more information on how we\n                handle your data.\n              </p>\n              <Button className=\"mt-2\" variant=\"link\">\n                Read Privacy Policy\n              </Button>\n            </div>\n          }\n          dialogTitle={\n            <span className=\"text-2xl font-bold text-primary\">\n              Customize Your Cookie Settings\n            </span>\n          }\n          dialogDescription={\n            <span className=\"text-muted-foreground\">\n              We use cookies and similar technologies to enhance your browsing\n              experience, personalize content and ads, and analyze our traffic.\n              By clicking \"Accept All\", you consent to our use of cookies. You\n              can manage your preferences by clicking \"Customize\".\n            </span>\n          }\n          lockScroll={false}\n        >\n          <h2 className=\"text-lg font-semibold\">We value your privacy</h2>\n          <p className=\"mt-2 text-sm text-muted-foreground\">\n            We use cookies to enhance your browsing experience, serve\n            personalized ads or content, and analyze our traffic.\n          </p>\n          <div className=\"mt-4 flex justify-between space-x-2\">\n            <div className=\"space-x-2\">\n              <CookieConsentDecline onClick={handleClose}>\n                Decline\n              </CookieConsentDecline>\n              <CookieConsentAccept onClick={handleClose}>\n                Accept All\n              </CookieConsentAccept>\n            </div>\n            <CookieConsentTrigger asChild>\n              <Button variant=\"outline\">Customize</Button>\n            </CookieConsentTrigger>\n          </div>\n        </CookieConsentModal>\n      )}\n    </>\n  );\n};\n\nexport default CookieConsentDemoProvider;\n",
      "type": "registry:example",
      "target": ""
    }
  ]
}